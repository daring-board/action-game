# アプリケーション調査ガイド

このドキュメントは、本Next.jsアプリケーションの構造、機能、および開発プロセスを理解するための調査方法をまとめたものです。

## 1. プロジェクトの全体像を把握する

*   **ディレクトリ構造の確認:**
    `ls -F` や `tree` コマンド（インストールされている場合）を使用して、プロジェクトのファイルとディレクトリの階層を確認します。特に `src/` ディレクトリの中身を詳しく見ます。
    ```bash
    ls -F /home/iwasa_ma/workspace/action-game/
    ls -F /home/iwasa_ma/workspace/action-game/src/app/
    ```
*   **主要設定ファイルの確認:**
    *   `package.json`: プロジェクトの依存関係、スクリプト、メタデータを確認します。
    *   `next.config.ts`: Next.jsのビルド設定、ルーティング、環境変数などを確認します。
    *   `tsconfig.json`: TypeScriptの設定、パスエイリアスなどを確認します。
    *   `eslint.config.mjs`: コードのリンティングルールを確認します。
    *   `postcss.config.mjs`: Tailwind CSSなどのPostCSSプラグイン設定を確認します。

## 2. アプリケーションのエントリポイントとルーティング

*   **`src/app/layout.tsx`:** アプリケーション全体のレイアウト、共通のコンポーネント、グローバルなスタイル（`globals.css`のインポートなど）を確認します。
*   **`src/app/page.tsx`:** ルートパス (`/`) のメインページコンポーネントを確認します。ここから他のコンポーネントが呼び出されていることが多いです。
*   **ルーティング:** `app`ディレクトリベースのルーティング規則を理解します。各ディレクトリがURLパスに対応します。

## 3. コンポーネントと機能の特定

*   **`src/app/Game.tsx`:** ゲームの主要ロジックやUIが実装されている可能性が高いです。このファイルを詳細に調査します。
*   **他のコンポーネント:** `src/app/` 内の他の `.tsx` ファイルも確認し、それぞれがどのような役割を持っているかを把握します。
*   **`src/app/constants.ts`:** アプリケーション全体で使用される定数や設定値が定義されている可能性があります。

## 4. スタイリングの確認

*   **`src/app/globals.css`:** グローバルなCSS定義やTailwind CSSの `@tailwind` ディレクティブを確認します。
*   **Tailwind CSS:** コンポーネント内の `className` 属性に適用されているTailwind CSSクラスを確認し、どのようにスタイルが適用されているかを理解します。

## 5. テストの実行と確認

*   **テストスクリプト:** `package.json` の `scripts` セクションでテスト関連のコマンド（例: `test`, `e2e` など）を確認します。
*   **テストファイルの場所:** `tests/e2e/` ディレクトリ内のテストファイル（例: `game.spec.ts`, `score.spec.ts`）を確認し、どのようなテストが書かれているかを理解します。
*   **テストの実行:**
    ```bash
    npm run dev & # 開発サーバーをバックグラウンドで起動
    npx playwright test # E2Eテストを実行
    kill %1 # 開発サーバーを停止（%1はバックグラウンドジョブのID）
    ```

## 6. 開発サーバーの起動

*   **開発サーバーの起動:**
    ```bash
    npm run dev
    ```
    ブラウザで `http://localhost:3000` にアクセスし、アプリケーションの動作を実際に確認します。

## 7. ドキュメントの確認

*   **`docs/spec.md`:** アプリケーションの仕様や要件が記述されている可能性があります。
*   **`docs/tasks.md`:** 今後の開発タスクや実装アプローチが記述されている可能性があります。
*   **`GEMINI.md` (ルートと `src/app`):** プロジェクトの技術スタック、構成、開発フローに関する情報が記述されています。

## 8. Git履歴の確認

*   `git log`: コミット履歴を確認し、過去の変更内容や機能追加の経緯を把握します。
*   `git diff <commit-hash>`: 特定のコミットでの変更内容を詳細に確認します。

これらのステップを通じて、アプリケーションの全体像と詳細を効率的に調査することができます。
